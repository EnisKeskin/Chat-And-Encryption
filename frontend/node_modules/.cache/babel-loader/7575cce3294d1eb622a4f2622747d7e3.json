{"ast":null,"code":"var _jsxFileName = \"/home/enis/Desktop/BilgiGuvenligiProje/frontend/src/Components/Chat.js\";\nimport React, { Component } from 'react';\nimport { InputGroup, FormControl, Button } from 'react-bootstrap';\nimport Io from '../connection';\nimport { Redirect } from 'react-router';\nimport { isNullOrUndefined } from 'util';\nimport Form from 'react-bootstrap/FormGroup';\nlet io = null;\n\nclass Chat extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeEventChat = e => {\n      console.log(e.target); // const message = e.target.value;\n      // this.setState({\n      //     sendMessage: message\n      // });\n    };\n\n    this.onClickEventSend = e => {\n      e.preventDefault();\n      io.emit('chatMessage', {\n        message: this.state.sendMessage\n      });\n    };\n\n    this.isEmpty = obj => {\n      for (var key in obj) {\n        if (obj.hasOwnProperty(key)) return false;\n      }\n\n      return true;\n    };\n\n    this.chatMessageShow = () => {\n      // const message = this.state.getMessage;\n      // const chatMessage = [];\n      console.log(\"at\"); // if (!this.isEmpty(message)) {\n      //     message.forEach((messageInfo, key) => {\n      //         if (this.state.userId !== messageInfo.userId) {\n      //             chatMessage.push(\n      //                 <div className=\"incoming-msg\" key={key}>\n      //                     <div className=\"incoming-msg-user\">Enis Keskin</div>\n      //                     <span className=\"chat-msg\">Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden </span>\n      //                     <div className=\"incoming-msg-date\">23:05</div>\n      //                 </div>)\n      //         } else {\n      //             chatMessage.push(\n      //                 <div className=\"outgoing-msg\" key={key}>\n      //                     <div className=\"outgoing-msg-user\">Enis Keskin</div>\n      //                     <span className=\"chat-msg\">Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden </span>\n      //                     <div className=\"outgoing-msg-date\">23:05</div>\n      //                 </div>)\n      //         }\n      //     });\n      //     return chatMessage;\n      // }\n    };\n\n    sendMessage = {}, this.state = {\n      getMessage: {},\n      redirect: false,\n      userId: ''\n    };\n  }\n\n  componentDidMount() {\n    const chatArea = document.querySelector(\".chatArea\");\n    chatArea.scrollTop = chatArea.scrollHeight;\n    const token = localStorage.getItem('token');\n\n    if (!isNullOrUndefined(token)) {\n      io = Io.connectionsRoom('Chat', token);\n      io.on('error', () => {\n        this.setState({\n          redirect: true\n        });\n      });\n      io.emit('allMessage');\n      io.on('returnedMessage', chat => {\n        this.setState({\n          userId: chat.userId,\n          getMessage: chat.messageInfo\n        });\n      });\n    } else {\n      this.setState({\n        redirect: true\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"mainChat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, this.state.redirect ? React.createElement(Redirect, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }) : React.createElement(\"div\", {\n      className: \"chat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, console.log(\"att\"), React.createElement(\"div\", {\n      className: \"chatArea\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(InputGroup, {\n      className: \"chatInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(FormControl, {\n      placeholder: \"Mesaj\",\n      onChange: this.onChangeEventChat.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), React.createElement(InputGroup.Append, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"primary\",\n      onClick: this.onClickEventSend.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"G\\xF6nder\"))))));\n  }\n\n}\n\nexport default Chat;","map":{"version":3,"sources":["/home/enis/Desktop/BilgiGuvenligiProje/frontend/src/Components/Chat.js"],"names":["React","Component","InputGroup","FormControl","Button","Io","Redirect","isNullOrUndefined","Form","io","Chat","constructor","props","onChangeEventChat","e","console","log","target","onClickEventSend","preventDefault","emit","message","state","sendMessage","isEmpty","obj","key","hasOwnProperty","chatMessageShow","getMessage","redirect","userId","componentDidMount","chatArea","document","querySelector","scrollTop","scrollHeight","token","localStorage","getItem","connectionsRoom","on","setState","chat","messageInfo","render","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { InputGroup, FormControl, Button } from 'react-bootstrap';\nimport Io from '../connection';\nimport { Redirect } from 'react-router';\nimport { isNullOrUndefined } from 'util';\nimport Form from 'react-bootstrap/FormGroup';\nlet io = null;\nclass Chat extends Component {\n    constructor(props) {\n        super(props);\n        sendMessage = {},\n            this.state = {\n                getMessage: {},\n                redirect: false,\n                userId: '',\n            }\n    }\n    componentDidMount() {\n        const chatArea = document.querySelector(\".chatArea\");\n        chatArea.scrollTop = chatArea.scrollHeight\n\n        const token = localStorage.getItem('token');\n        if (!isNullOrUndefined(token)) {\n\n            io = Io.connectionsRoom('Chat', token);\n\n            io.on('error', () => {\n                this.setState({\n                    redirect: true,\n                });\n            });\n\n            io.emit('allMessage');\n\n            io.on('returnedMessage', (chat) => {\n                this.setState({\n                    userId: chat.userId,\n                    getMessage: chat.messageInfo\n                });\n\n            });\n\n        } else {\n            this.setState({\n                redirect: true,\n            })\n        }\n\n    }\n\n    onChangeEventChat = (e) => {\n        console.log(e.target);\n        // const message = e.target.value;\n        // this.setState({\n        //     sendMessage: message\n        // });\n    }\n\n    onClickEventSend = (e) => {\n        e.preventDefault();\n        io.emit('chatMessage', { message: this.state.sendMessage });\n    }\n\n    isEmpty = (obj) => {\n        for (var key in obj) {\n            if (obj.hasOwnProperty(key))\n                return false;\n        }\n        return true;\n    }\n\n    chatMessageShow = () => {\n        // const message = this.state.getMessage;\n        // const chatMessage = [];\n        console.log(\"at\");\n        // if (!this.isEmpty(message)) {\n        //     message.forEach((messageInfo, key) => {\n        //         if (this.state.userId !== messageInfo.userId) {\n        //             chatMessage.push(\n        //                 <div className=\"incoming-msg\" key={key}>\n        //                     <div className=\"incoming-msg-user\">Enis Keskin</div>\n        //                     <span className=\"chat-msg\">Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden </span>\n        //                     <div className=\"incoming-msg-date\">23:05</div>\n        //                 </div>)\n        //         } else {\n        //             chatMessage.push(\n        //                 <div className=\"outgoing-msg\" key={key}>\n        //                     <div className=\"outgoing-msg-user\">Enis Keskin</div>\n        //                     <span className=\"chat-msg\">Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden Giden </span>\n        //                     <div className=\"outgoing-msg-date\">23:05</div>\n        //                 </div>)\n        //         }\n        //     });\n        //     return chatMessage;\n        // }\n\n    }\n\n    render() {\n        return (\n            <div className=\"mainChat\">\n                {this.state.redirect ?\n                    <Redirect to='/' />\n                    :\n                    <div className=\"chat\">\n                        {console.log(\"att\")}\n                        <div className=\"chatArea\">\n                            {/* {this.chatMessageShow()} */}\n                        </div>\n                        <Form>\n                            <InputGroup className=\"chatInput\" >\n                                <FormControl placeholder=\"Mesaj\" onChange={this.onChangeEventChat.bind(this)} />\n                                <InputGroup.Append>\n                                    <Button variant=\"primary\" onClick={this.onClickEventSend.bind(this)}>Gönder</Button>\n                                </InputGroup.Append>\n                            </InputGroup>\n                        </Form>\n                    </div>\n                }\n            </div>\n\n        )\n    }\n}\n\nexport default Chat;"]},"metadata":{},"sourceType":"module"}